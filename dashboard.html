<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>STH Dashboard</title>
    <h1>Dashboard</h1>
    <table border="3">
      <tr>
        <th>S.no</th>
        <th>Date</th>
        <th>Friends</th>
        <th>Family</th>
        <th>Field</th>
        <th>Fun</th>
        <th>Fitness</th>
        <th>Faith</th>
        <th>Finance</th>
      </tr>
    </table>
    <script>
      async function receive() {
        let data = await fetch("http://localhost:5050/receive", {
          // Adding method type
          method: "GET",

          // Adding headers to the request
          headers: {
            "Content-type": "application/json",
          },
        }).then((response) => response.json());

        const myObj = Object.values(data.Data);
        console.log(typeof myObj[0]);
        console.log(myObj[0]);
        let txt = "";
        txt += "<table border='1'>";
        let i = 1;
        for (x in myObj) {
          txt += "<tr><td>" + i + "</td>";
          txt += "<td>" + myObj[x].date + "</td>";
          txt += "<td>" + myObj[x].friends + "</td>";
          txt += "<td>" + myObj[x].family + "</td>";
          txt += "<td>" + myObj[x].field + "</td>";
          txt += "<td>" + myObj[x].fun + "</td>";
          txt += "<td>" + myObj[x].fitness + "</td>";
          txt += "<td>" + myObj[x].faith + "</td>";
          txt += "<td>" + myObj[x].finance + "</td></tr>";

          i++;
        }
        document.getElementById("demo").innerHTML = txt;

        // .then(json => console.log(json));
      }
    </script>
  </head>

  <body onload="receive()">
    <p id="demo"></p>

    <!-- something -->
    <!--  -->
  </body>
</html>
